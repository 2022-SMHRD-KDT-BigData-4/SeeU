import ProjectTables from "../../components/dashboard/ProjectTable";
import { Row, Col, Table, Card, CardTitle, CardBody, Button } from "reactstrap";
import { Link, useLocation, useNavigate } from "react-router-dom";
import 'css/Board.css';
import Pagination from 'modals/Pagination';
import  Axios  from "axios";
// import $ from "jquery";
import { useEffect,useState } from "react";

const Tables = () => {
  const navigate = useNavigate();
  const [board, setBoard] = useState([]);
  
  useEffect(()=>{

    Axios.post("/api/board").then((response)=>{
      console.log("ë°ì´í„°", response)
      console.log("ë°ì´í„°2", response.data)
      if(response.data){
        // ì—¬ê¸° ìŠ¤í”„ë ˆë“œí‘œí˜„ë²• ë§ê³  ê·¸ëƒ¥ ë°”ë¡œë„£ìŒ(ê·¸ë˜ì•¼ ì‹¤í–‰ì´ ë˜ë„¤??)
        setBoard(response.data); // ...ì„ ì¨ì¤˜ì„œ  stateê°€ ë³€ê²½ëœê±¸ ë¦¬ì•¡íŠ¸ì—ê²Œ ì•Œë ¤ì£¼ê¸°
        console.log(response.data);
        console.log("ë°ì´í„°3", board)
      }else{
        alert("failed to");
      }
    });
 // useEffectì•ˆì—ì„œ setí•¨ìˆ˜ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ ë°œìƒ(ë¬´í•œë£¨í”„) -> ë¹ˆ ë°°ì—´([]) í•˜ë‚˜ ë„£ì–´ì£¼ê¸°
  },[])
  
  const handleClick = () => {
    navigate('/Test', {
      state: {
        title: "test",
      },
    });
  };

  return (
    
    <Row>
      <Col lg="12">
        <Card>
          <CardTitle tag="h6" className="border-bottom p-3 mb-0">
            <i className="bi bi-card-text me-2"> </i>
            ë¬¸ì˜ê²Œì‹œíŒ<Link to="/Badges"><button className="B_writebtn" style={{position:"relative", left:950, borderRadius: 5, height: 35}}>ê¸€ ì“°ê¸° ğŸ’Œ</button></Link>
          </CardTitle>
          <CardBody className="">
            <button onClick={handleClick}>ì´ë™</button>
            <Table bordered striped>
              <thead>
                <tr className="z">
                  <th>ë²ˆí˜¸</th>
                  <th>ì œëª©</th>
                  <th>ì‘ì„±ì</th>
                  <th>ì‘ì„±ì¼</th>
                </tr>
              </thead>
              
              <tbody>
                
              {
                  board.map((board,index) => (
                  <tr className="z">
                  <th key={index} scope="row">{board.b_num}</th>
                  {/* <td><Link to="/Buttons" value={board.b_num}  className="em-3"> */}
                  <td><Link to={{
                    pathname: "/Buttons",
                    state:{
                      class : board,
                      search : board.b_num,
                      b_num : board.b_num
                    },
                  }}>
                    {board.b_title}</Link></td>
                  <td>{board.b_writer}</td>
                  <td>{board.b_date}</td>
                </tr>
                ))
                } 
              </tbody>
            </Table>
          </CardBody>
        </Card>
      </Col>
      <div className="fhdn">
      <Pagination></Pagination>
      </div>
    </Row>
  );

};

export default Tables;
